{% extends 'base.html' %}
{% load static %}

{% block contents %}


<!-- ========================= SECTION CONTENT ========================= -->
<section class="section-content padding-y">

    <!-- ============================ COMPONENT REGISTER   ================================= -->
        <div class="card mx-auto" style="max-width:520px; margin-top:40px;">
          <article class="card-body">
            {% include 'includes/alerts.html' %}
            <header class="mb-4"><h4 class="card-title">Add Address</h4></header>
            <form id="addAddressForm" action="{% url 'add_address' %}" method="POST">
                {% csrf_token %}

                {{form.as_p}}
                
                    <div class="form-group mt-3">
                        <button type="submit" class="btn btn-primary btn-block"> Add Address </button>
                    </div> <!-- form-group// -->      
                        <p style="color: red;">{{form.email.errors}}</p>
                        <p style="color: red;">{{form.non_field_errors}}</p>
                        <!-- {% if field.help_text %}
                            <small style="color:gray">{{field.help_text}}</small>
                        {% endif %}

                        {% for error in field_errors %}
                            <p style="color:red">{{field.help_text}}</p>
                        {% endfor %}
                        {% for error in non_field_errors %}
                            <p style="color:red">{{field.help_text}}</p>
                        {% endfor %} -->
                </form>
            </article><!-- card-body.// -->
        </div> <!-- card .// -->
        <!-- <p class="text-center mt-4">Have an account? <a href="{% url 'login' %}">Log In</a></p> -->
        <br><br>
    <!-- ============================ COMPONENT REGISTER  END.// ================================= -->
    
    
    </section>
    <!-- ========================= SECTION CONTENT END// ========================= -->
    <script>

$('#addAddressForm').validate({
rules:{
    first_name:{
        required:true,
        minlength:3,
        },
    last_name:{
        required:true,
        minlength:1,
        },
    email:{
        required:true,
        email:true,
    },
    mobile:{
        required:true,
        digits:true,
        minlength:10,
        maxlength:10.
    },
    address_line_1:{
        required:true,
        minlength:5,
    },
    address_line_2:{
        required:true,
        
    },
    city:{
        required:true,        
    },
    district:{
        required:true,        
    },
    state:{
        required:true,        
    },
    country:{
        required:true,        
    },
    pincode:{
        required:true,        
    },

},
messages:{
    first_name:{
        required:"Enter your First name.",
        minlength:"Minimum 3 characters required.",
        },
    last_name:{
        required:"Enter your Last name",
        minlength:"Minimum 1 characters required.",
        },
    email:{
        required:"Enter your Email ID",
        email:"Please enter a valid Email.",
    },
    mobile:{
        required:"Enter your Mobile Number",
        digits:"Only numbers allowed.",
        minlength:"10 digits needed",
        maxlength:"Maximum 10 digits allowed.",
    },
    address_line_1:{
        required:"Address required.",
        minlength:"Need at least 5 characters.",
    },
    address_line_2:{
        required:"Address required.",
        
    },city:{
        required:"Enter City name",        
    },
    district:{
        required:"Enter District name",        
    },
    state:{
        required:"Enter State name",        
    },
    country:{
        required:"Enter Country name",        
    },
    pincode:{
        required:"Enter Pincode",        
    },

},
})

$('#id_mobile').keyup(validateMaxLength);
function validateMaxLength(){
        var text = $(this).val();
        var maxlength = 10;
        if(maxlength > 0)  
        {
                $(this).val(text.substr(0, maxlength)); 
        }
}
    </script>

{% endblock %}